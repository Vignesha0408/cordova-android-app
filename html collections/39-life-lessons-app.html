<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Life Lessons</title>
  <style>
    :root{ --bg:#0b1022; --panel:#0f172a; --text:#e5e7eb; --muted:#94a3b8 }
    *{ box-sizing:border-box }
    body{ margin:0; min-height:100vh; display:grid; grid-template-columns:320px 1fr; background:radial-gradient(900px 600px at 15% 0%, #111827, #0b1022 60%, #050814); color:var(--text); font-family:system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,Cantarell,Noto Sans,Arial }
    .side{ padding:12px; border-right:1px solid rgba(255,255,255,.08); background:rgba(255,255,255,.03) }
    .search{ width:100%; padding:10px; border-radius:10px; border:1px solid rgba(255,255,255,.12); background:rgba(255,255,255,.04); color:var(--text) }
    .filters{ display:flex; gap:8px; margin:8px 0; flex-wrap:wrap }
    .chip{ padding:8px 12px; border-radius:999px; border:1px solid rgba(255,255,255,.12); background:rgba(255,255,255,.06); cursor:pointer; transition:all 0.2s ease }
    .chip.active{ background:linear-gradient(45deg, #38bdf8, #0284c7); border-color:rgba(56,189,248,.5); color:#fff }
    .list{ display:grid; gap:8px; max-height:calc(100vh - 110px); overflow:auto }
    .item{ padding:10px; background:var(--panel); border:1px solid rgba(255,255,255,.08); border-radius:12px; cursor:pointer; display:flex; justify-content:space-between; align-items:center }
    .view{ padding:18px }
    h1{ margin:0 0 8px 0; font-size:28px }
    .title{ font-weight:800; font-size:22px }
    .muted{ color:var(--muted) }
    .actions{ display:flex; gap:8px; margin-top:10px }
    .btn{ padding:10px 14px; border-radius:10px; border:1px solid rgba(255,255,255,.12); background:rgba(255,255,255,.06); color:var(--text); cursor:pointer; font-weight:600 }
    .fav{ color:#fde68a }
  </style>
</head>
<body>
  <div class="side">
    <input id="search" class="search" placeholder="Search lessons..." />
    <div class="filters">
      <div class="chip" data-cat="all">All</div>
      <div class="chip" data-cat="growth">Growth</div>
      <div class="chip" data-cat="relationships">Relationships</div>
      <div class="chip" data-cat="work">Work</div>
      <div class="chip" data-cat="health">Health</div>
      <div class="chip" data-cat="fav">Favorites</div>
    </div>
    <div id="list" class="list"></div>
  </div>
  <div class="view">
    <h1>Life Lessons</h1>
    <div id="vTitle" class="title">Welcome</div>
    <div id="vCat" class="muted">—</div>
    <div id="vBody" style="margin-top:12px; line-height:1.7"></div>
    <div class="actions">
      <button id="prev" class="btn">Prev</button>
      <button id="next" class="btn">Next</button>
      <button id="favBtn" class="btn">Favorite <span id="favIcon" class="fav">☆</span></button>
      <button id="copyBtn" class="btn">Copy</button>
    </div>
  </div>

  <script>
    (function(){
      const LESSONS = [
        {t:'Focus on what you control', c:'growth', b:'Your energy is finite. Spend it on actions, not outcomes you cannot control.'},
        {t:'Small steps compound', c:'growth', b:'Tiny daily improvements build remarkable results over time.'},
        {t:'Listen more than you speak', c:'relationships', b:'Understanding others deepens trust and reveals better solutions.'},
        {t:'Health is the first wealth', c:'health', b:'Sleep, nutrition, and movement are the foundation for everything else.'},
        {t:'Do deep work', c:'work', b:'Protect long stretches of focus. Shallow tasks multiply when left unmanaged.'},
        {t:'Say no to grow', c:'work', b:'Every yes is a no to something else. Align choices with priorities.'},
        {t:'Assume positive intent', c:'relationships', b:'Most friction is misunderstanding. Start with generosity, then clarify.'},
        {t:'Fail, learn, iterate', c:'growth', b:'Feedback is information, not a verdict. Adjust and try again.'},
        {t:'Systems beat goals', c:'growth', b:'Design routines that make progress inevitable, even on low‑motivation days.'},
        {t:'Protect attention', c:'work', b:'Notifications fragment thinking. Batch communication and set boundaries.'}
      ];

      const list=document.getElementById('list');
      const search=document.getElementById('search');
      const chips=[...document.querySelectorAll('.chip')];
      const vTitle=document.getElementById('vTitle');
      const vCat=document.getElementById('vCat');
      const vBody=document.getElementById('vBody');
      const prev=document.getElementById('prev');
      const next=document.getElementById('next');
      const favBtn=document.getElementById('favBtn');
      const favIcon=document.getElementById('favIcon');
      const copyBtn=document.getElementById('copyBtn');

      const storageKey='life-lessons-fav-v1';
      let favs=load();
      let mode='all';
      let index=0; // index in filtered list

      function load(){ try{ return JSON.parse(localStorage.getItem(storageKey))||[] }catch(_){ return [] } }
      function save(){ localStorage.setItem(storageKey, JSON.stringify(favs)); }

      function filtered(){ const q=search.value.toLowerCase(); let arr=LESSONS.map((x,i)=>({...x,i})).filter(x=> x.t.toLowerCase().includes(q) || x.b.toLowerCase().includes(q) || x.c.toLowerCase().includes(q)); if(mode==='fav'){ arr=arr.filter(x=> favs.includes(x.i)); } else if(mode!=='all'){ arr=arr.filter(x=> x.c===mode); } return arr; }

      function renderList(){ const arr=filtered(); list.innerHTML=''; arr.forEach((x,k)=>{ const div=document.createElement('div'); div.className='item'; const left=document.createElement('div'); left.innerHTML = `<div><strong>${x.t}</strong></div><div class=\"muted\">${x.c}</div>`; const star=document.createElement('div'); star.className='fav'; star.textContent = favs.includes(x.i)?'★':'☆'; div.appendChild(left); div.appendChild(star); div.addEventListener('click', ()=>{ index=k; show(); }); list.appendChild(div); }); if(index>=arr.length) index=Math.max(0, arr.length-1); }
      
      function updateActiveChip(){ chips.forEach(ch=> ch.classList.remove('active')); const activeChip=chips.find(ch=> ch.dataset.cat===mode); if(activeChip) activeChip.classList.add('active'); }

      function show(){ const arr=filtered(); if(arr.length===0){ vTitle.textContent='No lessons'; vCat.textContent='—'; vBody.textContent=''; return; } const x=arr[index]; vTitle.textContent=x.t; vCat.textContent='— '+x.c; vBody.textContent=x.b; favIcon.textContent = favs.includes(x.i)?'★':'☆'; }

      function toggleFav(){ const arr=filtered(); if(arr.length===0) return; const x=arr[index]; const p=favs.indexOf(x.i); if(p===-1) favs.unshift(x.i); else favs.splice(p,1); save(); renderList(); show(); }
      function copy(){ const t=`${vTitle.textContent} ${vCat.textContent}\n\n${vBody.textContent}`; navigator.clipboard.writeText(t).catch(()=>{}); }

      search.addEventListener('input', ()=>{ renderList(); show(); });
      chips.forEach(ch=> ch.addEventListener('click', ()=>{ mode=ch.dataset.cat; updateActiveChip(); renderList(); show(); }));
      prev.addEventListener('click', ()=>{ const arr=filtered(); if(arr.length===0) return; index=(index-1+arr.length)%arr.length; show(); });
      next.addEventListener('click', ()=>{ const arr=filtered(); if(arr.length===0) return; index=(index+1)%arr.length; show(); });
      favBtn.addEventListener('click', toggleFav);
      copyBtn.addEventListener('click', copy);

      updateActiveChip(); renderList(); show();
    })();
  </script>
</body>
</html>
