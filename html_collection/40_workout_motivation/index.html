<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Workout Motivation</title>
  <style>
    :root{ --bg:#0b1022; --panel:#0f172a; --text:#e5e7eb; --muted:#94a3b8; --ok:#22c55e; --accent:#38bdf8 }
    *{ box-sizing:border-box }
    body{ margin:0; min-height:100vh; display:grid; place-items:center; background:radial-gradient(900px 600px at 15% 0%, #111827, #0b1022 60%, #050814); color:var(--text); font-family:system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,Cantarell,Noto Sans,Arial }
    .app{ width:min(900px,94vw); background:linear-gradient(180deg, rgba(255,255,255,.05), rgba(255,255,255,.02)); border:1px solid rgba(255,255,255,.08); border-radius:16px; padding:18px; box-shadow:0 10px 40px rgba(0,0,0,.5) }
    h1{ margin:0 0 8px 0; font-size:28px }
    .grid{ display:grid; grid-template-columns: 1fr 1fr; gap:12px }
    .panel{ background:var(--panel); border:1px solid rgba(255,255,255,.08); border-radius:14px; padding:16px }
    .row{ display:flex; gap:8px; flex-wrap:wrap; align-items:center }
    .btn{ padding:10px 14px; border-radius:10px; border:1px solid rgba(255,255,255,.12); background:rgba(255,255,255,.06); color:var(--text); cursor:pointer; font-weight:600 }
    .input{ padding:10px; border-radius:10px; border:1px solid rgba(255,255,255,.12); background:rgba(255,255,255,.04); color:var(--text) }
    .work{ font-size:22px; line-height:1.5 }
    .list{ display:grid; gap:8px; margin-top:10px }
    .item{ display:flex; align-items:center; gap:8px; padding:8px; border-radius:10px; border:1px solid rgba(255,255,255,.12) }
    .time{ font-size:40px; text-align:center; margin:8px 0; font-variant-numeric:tabular-nums }
    .muted{ color:var(--muted) }
  </style>
</head>
<body>
  <div class="app">
    <h1>Workout Motivation</h1>
    <div class="grid">
      <div class="panel">
        <div class="row"><strong>Random Workout</strong><button id="nextW" class="btn">Next</button><button id="addToPlan" class="btn">Add to Plan</button></div>
        <div id="workout" class="work" style="margin-top:8px">20 squats • 15 push-ups • 30s plank</div>
        <div class="muted" style="margin-top:6px">Tip: Click “Next” to shuffle.</div>
      </div>

      <div class="panel">
        <div class="row"><strong>Session Timer</strong></div>
        <div id="timer" class="time">00:20:00</div>
        <div class="row" style="justify-content:center">
          <button id="startT" class="btn">Start</button>
          <button id="pauseT" class="btn">Pause</button>
          <button id="resetT" class="btn">Reset</button>
        </div>
        <div class="row" style="margin-top:8px; justify-content:center">
          <input id="minutes" class="input" type="number" min="1" max="180" value="20" style="max-width:120px" />
          <button class="btn" data-preset="600">10 min</button>
          <button class="btn" data-preset="1200">20 min</button>
          <button class="btn" data-preset="1800">30 min</button>
        </div>
      </div>

      <div class="panel" style="grid-column:1 / -1">
        <div class="row"><strong>My Plan</strong><button id="addCustom" class="btn">Add Custom</button><button id="clearDone" class="btn">Clear Done</button></div>
        <div id="plan" class="list"></div>
      </div>
    </div>
  </div>

  <script>
    (function(){
      // Random workout
      const MOVES = [
        '20 squats','15 push-ups','30s plank','12 lunges/leg','20 jumping jacks','10 burpees','40s mountain climbers','15 sit-ups','12 tricep dips','20 high knees'
      ];
      function rand(arr){ return arr[Math.floor(Math.random()*arr.length)]; }
      function nextWorkout(){ workout.textContent = `${rand(MOVES)} • ${rand(MOVES)} • ${rand(MOVES)}`; }
      const workout=document.getElementById('workout');
      document.getElementById('nextW').addEventListener('click', nextWorkout);

      // Plan
      const plan=document.getElementById('plan');
      const addToPlan=document.getElementById('addToPlan');
      const addCustom=document.getElementById('addCustom');
      const clearDone=document.getElementById('clearDone');
      const planKey='workout-plan-v1';
      let items = load(planKey, []);
      function load(k, def){ try{ return JSON.parse(localStorage.getItem(k))||def }catch(_){ return def } }
      function save(k, v){ localStorage.setItem(k, JSON.stringify(v)); }
      function uid(){ return Date.now().toString(36)+Math.random().toString(36).slice(2,8); }
      function addItem(text){ items.unshift({ id:uid(), text:text.trim(), done:false }); save(planKey, items); renderPlan(); }
      function toggleItem(id){ const it=items.find(x=>x.id===id); if(it){ it.done=!it.done; save(planKey, items); renderPlan(); } }
      function removeItem(id){ items=items.filter(x=>x.id!==id); save(planKey, items); renderPlan(); }
      function renderPlan(){ plan.innerHTML=''; for(const it of items){ const row=document.createElement('div'); row.className='item'; const cb=document.createElement('input'); cb.type='checkbox'; cb.checked=it.done; cb.addEventListener('change', ()=> toggleItem(it.id)); const span=document.createElement('div'); span.textContent=it.text; span.style.flex='1'; if(it.done){ span.style.textDecoration='line-through'; span.classList.add('muted'); } const rm=document.createElement('button'); rm.className='btn'; rm.textContent='Remove'; rm.addEventListener('click', ()=> removeItem(it.id)); row.appendChild(cb); row.appendChild(span); row.appendChild(rm); plan.appendChild(row); } }
      addToPlan.addEventListener('click', ()=> addItem(workout.textContent));
      addCustom.addEventListener('click', ()=>{ const t=prompt('Custom workout'); if(t && t.trim()) addItem(t); });
      clearDone.addEventListener('click', ()=>{ items=items.filter(x=>!x.done); save(planKey, items); renderPlan(); });

      // Timer
      const timerEl=document.getElementById('timer');
      const startT=document.getElementById('startT');
      const pauseT=document.getElementById('pauseT');
      const resetT=document.getElementById('resetT');
      const minutes=document.getElementById('minutes');
      const presets=[...document.querySelectorAll('[data-preset]')];
      let left=20*60, total=left, tmr=null, endAt=0;
      function fmt(s){ const h=Math.floor(s/3600).toString().padStart(2,'0'); const m=Math.floor(s%3600/60).toString().padStart(2,'0'); const ss=(s%60).toString().padStart(2,'0'); return `${h}:${m}:${ss}`; }
      function upd(){ timerEl.textContent = fmt(left); }
      function setTotal(sec){ total=sec; left=sec; upd(); }
      function start(){ if(tmr) return; const t=left<=0?total:left; endAt=Date.now()+t*1000; tick(); tmr=setInterval(tick, 200); }
      function tick(){ left=Math.max(0, Math.round((endAt-Date.now())/1000)); upd(); if(left<=0){ clearInterval(tmr); tmr=null; alert('Session complete!'); } }
      function pause(){ if(tmr){ clearInterval(tmr); tmr=null; } }
      function reset(){ pause(); setTotal(total); }
      startT.addEventListener('click', start); pauseT.addEventListener('click', pause); resetT.addEventListener('click', reset);
      minutes.addEventListener('change', ()=> setTotal(Math.max(1, Math.min(180, Math.floor(Number(minutes.value)||20)))*60));
      presets.forEach(b=> b.addEventListener('click', ()=> setTotal(Number(b.dataset.preset))));

      // init
      nextWorkout(); renderPlan(); upd();
    })();
  </script>
</body>
</html>
